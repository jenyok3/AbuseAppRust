# Next Session Plan - Abuse-App

## Snapshot (2026-02-26)

### Закрито в цій сесії
- Виправлено шлях збірки Tauri: `frontendDist` тепер `../dist/public`.
- Daily Tasks: при виконанні задачі нагадування більше не скидаються.
- Daily Tasks: додано підтримку кількох нагадувань на одну задачу, оновлено планувальник і UI редагування.
- Daily Tasks: прибрано кнопку “Додати нагадування”, додавання відбувається через “Зберегти”; інпути дати/часу очищаються після збереження.
- Виправлено тексти toast для нотаток у Telegram: “Нотатку оновлено”, опис “Акаунт {назва}”.
- Видалено сторінку `Accounts` і маршрут `/accounts`.
- Картки акаунтів у Telegram: показ нумерації 1..N, hover-підміна на `account.name`, кнопка копіювання назви з’являється при наведенні.
- Виправлено кодування `notes/next-session.md` (UTF-8).

### Перевірки
- `npm run check` — проходить.

## Snapshot (2026-02-26) — доповнення

### Закрито в цій сесії
- Telegram: додано закриття акаунтів по папках `TG N` як другий прохід (нова команда `close_telegram_accounts_batch`), викликається після закриття PID-ів при F6 та при “Закрити всі”.
- Telegram UI: кнопка “Скасувати” в блоці прогресу перейменована на “Завершити”.
- Іконки: згенеровано padded-джерело `assets/icon-source-1024.png` і перегенеровано всі іконки через `npx tauri icon` (включно `icon.ico`) для виправлення мильних/обрізаних ярликів.

## Snapshot (2026-02-26) — фікс іконок Windows (повторно)

### Закрито в цій сесії
- Проведено діагностику проблеми мильних/обрізаних іконок після перевстановлення: підтверджено, що `src-tauri/icons/icon.ico` був неякісним для Windows-випадку (не давав стабільного результату для taskbar/desktop/tray).
- Іконки перегенеровано вручну з `assets/logo-square.png` з контрольованими відступами та масштабом: оновлено `32x32.png`, `64x64.png`, `128x128.png`, `128x128@2x.png`, `icon.png`.
- Зібрано новий `src-tauri/icons/icon.ico` як multi-size (16/20/24/32/40/48/64/72/96/128/256) для чіткого рендеру на різних щільностях Windows.
- Додано окремі іконки для трею: `src-tauri/icons/tray-icon.png` та `src-tauri/icons/tray-icon@2x.png` (щільніший кроп, без ефекту «дуже маленької» іконки).
- Оновлено `src-tauri/src/lib.rs`: tray тепер використовує `tauri::include_image!("icons/tray-icon.png")` замість `app.default_window_icon()`.
- Піднято версію застосунку до `1.0.2` у `src-tauri/tauri.conf.json` та `src-tauri/Cargo.toml` (щоб Windows гарантовано підхопила нові ресурси іконок).
- Зібрано нові інсталятори `1.0.2`:
  - `src-tauri/target/release/bundle/nsis/AbuseApp_1.0.2_x64-setup.exe`
  - `src-tauri/target/release/bundle/msi/AbuseApp_1.0.2_x64_en-US.msi`

### Перевірки
- `cargo check` — проходить.
- `npm run check` — проходить.
- `npm run tauri:build` — проходить.

### Важливо для встановлення
- Після оновлення до `1.0.2` на Windows потрібно відкріпити старий pinned-ярлик з taskbar і закріпити знову після першого запуску нової версії, інакше може лишатися старий icon cache.
